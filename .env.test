# Test Environment Configuration
# This file is automatically loaded when NODE_ENV=test
# Used by integration tests to connect to GUS test environment

#
# Application Configuration
#
NODE_ENV=test
PORT=3000

#
# External API Credentials - Test Environment
#

# GUS (Central Statistical Office) Test API Configuration
# Test environment provides:
# - Full database snapshot from 8.11.2014 (outdated but complete and stable)
# - Anonymized personal names and addresses (privacy-safe)
# - No registration required - public test key works immediately
# - No rate limits or quotas - dedicated for testing
GUS_USER_KEY=abcde12345abcde12345
GUS_BASE_URL=https://wyszukiwarkaregontest.stat.gov.pl/wsBIR/UslugaBIRzewnPubl.svc
GUS_WSDL_URL=https://wyszukiwarkaregontest.stat.gov.pl/wsBIR/wsdl/UslugaBIRzewnPubl-ver11-test.wsdl

# CEIDG (Central Register of Individual Entrepreneurs) API Configuration
# For testing, use demo token or test environment
CEIDG_JWT_TOKEN=demo_jwt_token_1234567890123456789012345678901234567890123456
CEIDG_BASE_URL=https://datastore.ceidg.gov.pl/api/ceidg/v3

# KRS (National Court Register) API Configuration
KRS_BASE_URL=https://api-krs.ms.gov.pl/api/krs

#
# API Authentication - Multiple Test Keys for Test Isolation
#

# Multiple API keys to ensure test isolation (each test suite gets unique key)
# This prevents rate limit sharing between parallel test runs
# Each key must be at least 32 characters
# First key matches getTestApiKey() helper for backward compatibility
APP_API_KEYS=dev_api_key_1234567890abcdef1234567890abcdef,test-key-1-aaaabbbbccccddddeeeeffffgggg,test-key-2-111122223333444455556666,test-key-3-zzzzyyyyxxxxwwwwvvvvuuuu

#
# Application-level Performance and Timeout Configuration
#

# Reduced timeouts for faster test execution
APP_REQUEST_TIMEOUT=10000
APP_EXTERNAL_API_TIMEOUT=3000
APP_RATE_LIMIT_PER_MINUTE=100

#
# Retry Configuration for External APIs
#

# Reduced retries for faster test failures
GUS_MAX_RETRIES=1
GUS_INITIAL_DELAY=50
KRS_MAX_RETRIES=1
KRS_INITIAL_DELAY=100
CEIDG_MAX_RETRIES=1
CEIDG_INITIAL_DELAY=75

#
# GUS Rate Limiting Configuration
#

# Maximum requests per second for GUS API (token bucket algorithm)
# Higher limit for faster test execution (test environment has no quotas)
GUS_MAX_REQUESTS_PER_SECOND=20

#
# Application-level Health Check Configuration
#

APP_HEALTH_CHECK_ENABLED=true
APP_HEALTH_CHECK_TIMEOUT=2000

#
# Application-level Orchestration Timeouts
#

APP_ORCHESTRATION_TIMEOUT=15000

#
# Application-level Swagger Configuration
#

# Disable Swagger in test environment (not needed for automated tests)
APP_SWAGGER_ENABLED=false
APP_SWAGGER_SERVER_URL_DEVELOPMENT=http://localhost:3000

#
# Application-level CORS Configuration
#

# Explicit origins for test environment
APP_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

#
# Application-level Security Configuration
#

# Enable Helmet security headers even in test environment
APP_ENABLE_HELMET=true

# Test-specific settings
ENABLE_DEBUG_LOGS=false
ENABLE_REQUEST_LOGGING=false
